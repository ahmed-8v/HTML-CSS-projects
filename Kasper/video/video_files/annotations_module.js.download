(function(g){var window=this;'use strict';var CX=function(B){B.publish("cardstatechange",B.fu()&&B.l8()?1:0)},pX=function(B,A){var x=g.bg(A),w=x?A:arguments;
for(x=x?0:1;x<w.length;x++){if(B==null)return;B=B[w[x]]}return B},fFj=function(B){var A=g.FE(B);
B=g.lH(B);return new g.PG(A.x,A.y,B.width,B.height)},hQV=function(B,A,x){var w=w===void 0?{}:w;
var c;return c=g.gS(B,A,function(){g.Mm(c);x.apply(B,arguments)},w)},Hi=function(B){B=g.Xq(B);
delete Ew[B];g.OC(Ew)&&yU&&yU.stop()},IFr=function(){yU||(yU=new g.dN(function(){QQo()},20));
var B=yU;B.isActive()||B.start()},QQo=function(){var B=g.sj();
g.jt(Ew,function(A){$$c(A,B)});
g.OC(Ew)||IFr()},u$=function(B,A,x,w){g.Kx.call(this);
if(!Array.isArray(B)||!Array.isArray(A))throw Error("Start and end parameters must be arrays");if(B.length!=A.length)throw Error("Start and end points must be the same length");this.U=B;this.T=A;this.duration=x;this.K=w;this.coords=[];this.progress=this.Y=0;this.D=null},$$c=function(B,A){A<B.startTime&&(B.endTime=A+B.endTime-B.startTime,B.startTime=A);
B.progress=(A-B.startTime)/(B.endTime-B.startTime);B.progress>1&&(B.progress=1);B.Y=1E3/(A-B.D);B.D=A;WRV(B,B.progress);B.progress==1?(B.N=0,Hi(B),B.onFinish(),B.aV()):B.isPlaying()&&B.Sp()},WRV=function(B,A){typeof B.K==="function"&&(A=B.K(A));
B.coords=Array(B.U.length);for(var x=0;x<B.U.length;x++)B.coords[x]=(B.T[x]-B.U[x])*A+B.U[x]},P3h=function(B,A){g.og.call(this,B);
this.coords=A.coords;this.x=A.coords[0];this.y=A.coords[1];this.z=A.coords[2];this.duration=A.duration;this.progress=A.progress;this.fps=A.Y;this.state=A.N},eC=function(B,A,x,w,c){u$.call(this,A,x,w,c);
this.element=B},U$0=function(B,A,x,w,c){if(A.length!=2||x.length!=2)throw Error("Start and end points must be 2D");
eC.call(this,B,A,x,w,c)},Nvh=function(B){return Math.pow(B,3)},jQ4=function(B){return 3*B*B-2*B*B*B},kL7=function(B){g.l.call(this);
this.U=B||window;this.N=[]},Ow=function(B){return B.baseUrl||null},a0=function(B,A){return g.Uv(g.Mb(B,A),function(x){return!!x})},KR7=function(B,A,x){function w(S_){var Bp=S_.hovercardButton;
if(!Bp)return null;Bp=Bp.subscribeButtonRenderer;if(!Bp)return null;var L=V(Bp.unsubscribedButtonText),z=V(Bp.subscribedButtonText);if(Bp.subscribed){var I=V(Bp.subscriberCountWithUnsubscribeText);var b=V(Bp.subscriberCountText)}else I=V(Bp.subscriberCountText),b=V(Bp.subscriberCountWithSubscribeText);var Dx=null;if(S_.signinEndpoint){Dx=pX(S_,"signinEndpoint","webNavigationEndpointData","url");if(!Dx){var Nj,Ao;Dx=(Ao=g.m((Nj=Bp.signInEndpoint)==null?void 0:Nj.commandMetadata,g.Wy))==null?void 0:
Ao.url}if(!Dx)return null}return L&&(z||Dx)?{subscribed:Bp.subscribed,subscribeText:L,subscribeCount:I,unsubscribeText:z,unsubscribeCount:b,enabled:Bp.enabled,signinUrl:Dx,classic:S_.useClassicSubscribeButton}:null}
function c(S_){if(S_){var Bp=[],L=S_.videoId;L&&Bp.push("v="+L);(L=S_.playlistId)&&Bp.push("list="+L);(S_=S_.startTimeSeconds)&&Bp.push("t="+S_);return"/watch?"+Bp.join("&")}}
function V(S_){if(!S_)return null;var Bp=S_.simpleText;return Bp?Bp:S_.runs?g.Mb(S_.runs,function(L){return L.text}).join(""):null}
A=A.endscreenElementRenderer;if(!A)return null;var Z=A.style,R=A.endpoint||{},Y=null,n=null,r=!1,d=null,q=null,f=null,h=null,P=!1,N=null,K=null,p=null,H=null,O=null,M=null;if(Z==="VIDEO")g.m(R,g.Xi)?Y=g.m(R,g.Xi).url:(M=g.m(R,g.sH),Y=c(M)),n=!1,d=B,A.thumbnailOverlays?(r=A.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,q=V(r.text),r=r.style==="LIVE"):q=V(A.videoDuration);else if(Z==="PLAYLIST")g.m(R,g.Xi)?Y=g.m(R,g.Xi).url:(M=g.m(R,g.sH),Y=c(M)),n=!1,d=B,f=V(A.playlistLength);else if(Z===
"CHANNEL"){if(P=pX(R,"browseEndpoint","browseId"))h=P,Y="/channel/"+h;n=!1;d="new";(P=!!A.isSubscribe)?N=w(A):K=V(A.subscribersText)}else Z==="WEBSITE"?((p=pX(R,"urlEndpoint","url"))&&(Y=p),n=!0,d="new",p=A.icon.thumbnails[0].url):Z==="CREATOR_MERCHANDISE"&&(A.productPrice&&(H=V(A.productPrice)),A.additionalFeesText&&(O=V(A.additionalFeesText)),(n=pX(R,"urlEndpoint","url"))&&(Y=n),n=!0,d="new");B=pX(A,"title","accessibility","accessibilityData","label");var t=A.endpoint?A.endpoint.clickTrackingParams:
null,v="";if(A.metadata){var cp=V(A.metadata);cp&&(v=cp)}return{id:"element-"+x,type:Z,title:V(A.title),metadata:v,callToAction:V(A.callToAction),iY:A.image,iconUrl:p,left:Number(A.left),width:Number(A.width),top:Number(A.top),aspectRatio:Number(A.aspectRatio),startMs:Math.floor(Number(A.startMs)),endMs:Math.floor(Number(A.endMs)),videoDuration:q,lA:r,playlistLength:f,channelId:h,subscribeButton:N,subscribersText:K,isSubscribe:P,targetUrl:Y||null,OFS:n,sessionData:t?{itct:t}:null,SCP:d,yc:B?B:null,
isPlaceholder:A.isPlaceholder,impressionUrls:a0(A.impressionUrls||[],Ow),f9$:a0(A.hovercardShowUrls||[],Ow),clickUrls:a0(R.loggingUrls||[],Ow),visualElement:g.aJ(A.trackingParams),productPrice:H,additionalFeesText:O,watchEndpoint:M||null}},C3o=function(B,A){var x={startMs:Math.floor(Number(B.startMs)),
impressionUrls:a0(B.impressionUrls||[],Ow),elements:a0(B.elements||[],function(w,c){return KR7(A,w,c)})};
B.trackingParams&&(x.visualElement=g.aJ(B.trackingParams));return x},ptc=function(B){g.Ey.call(this,B);
this.D=this.endscreen=null;this.U={};this.Y={};this.K=this.S=null;this.j=[];this.N=null;this.A$=!0;this.T=0;B=B.C();this.Z=g.F2(B)||g.My(B);this.events=new g.be(this);g.T(this,this.events);this.events.G(this.player,g.hc("creatorendscreen"),this.onCueRangeEnter);this.events.G(this.player,g.QS("creatorendscreen"),this.onCueRangeExit);this.events.G(this.player,"resize",this.o2);this.events.G(window,"focus",this.AWR);this.load();var A=g.cP("STYLE");(g.zQ("HEAD")[0]||document.body).appendChild(A);this.addOnDisposeCallback(function(){g.Ym(A)});
A.sheet&&(A.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),A.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},E84=function(B){return B.player.getVideoData().l5?"current":B.Z?"new":"current"},FZ=function(B){return B.player.C().playerStyle==="creator-endscreen-editor"},yK7=function(B){var A=B.player.getVideoData(),x=A.videoId;
B.D&&B.D.abort();x={method:"POST",onFinish:function(c){var V=B.D=null;c.status===200&&(c=c.responseText,c.substring(0,3)===")]}"&&(c=c.substring(3),V=JSON.parse(c),V=C3o(V,E84(B))));gx(B,V)},
urlParams:{v:x},withCredentials:!0};B.Z&&(x.urlParams.ptype="embedded");var w=A.vF;w&&(x.postParams={ad_tracking:w});if(A=g.Aha(A))if(A=g.Fo(A),A=g.e5(A))B.D=g.TT(A,x)},gx=function(B,A,x){x=x===void 0?!0:x;
B.player.Hh("creatorendscreen");B.S&&(B.S.dispose(),B.S=null,B.K.dispose(),B.K=null);for(var w=g.W(Object.values(B.U)),c=w.next();!c.done;c=w.next())c.value.dispose();B.U={};B.Y={};B.j.length>0&&(B.j.forEach(function(R){R.dispose()}),B.j.length=0);
B.N&&(g.NY(B.N,"ytp-ce-element-show"),B.N.setAttribute("aria-hidden","true"));B.T=0;if((B.endscreen=A)&&A.elements){x&&HRo(B);x=[];w=new g.q3(A.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});x.push(w);B.player.C().U||(B.S=new g.J({X:"div",L:"ytp-ce-shadow"}),g.Ob(B.player,B.S.element,4),B.K=new g.dj(B.S,200));for(w=0;w<A.elements.length;++w){c=A.elements[w];var V=uJo(B,c);if(V){B.U[c.id]=V;B.Y[c.id]=c;g.Ob(B.player,V.element,4);var Z=new g.q3(c.startMs,c.endMs,{id:"ytp-ce-element-"+
c.id,namespace:"creatorendscreen"});x.push(Z);eQY(B,V,c)}else g.vH(new g.Sr("buildEndscreenElement null",c))}B.player.sS(x);B.o2()}},HRo=function(B){var A=g.g_(),x=g.MS();
x&&A&&B.endscreen.visualElement&&g.d8(g.VH)(void 0,x,A,B.endscreen.visualElement)},uJo=function(B,A){var x=null;
switch(A.type){case "VIDEO":B={X:"div",bk:["ytp-ce-element","ytp-ce-video"],V:{tabindex:"0","aria-label":A.yc||"","aria-hidden":"true"},W:[{X:"div",L:"ytp-ce-element-shadow"},{X:"div",L:"ytp-ce-covering-image",V:Mf(A)},{X:"div",L:"ytp-ce-covering-shadow-top"},{X:"a",L:"ytp-ce-covering-overlay",V:{href:l$(B,A.targetUrl),tabindex:"-1"},W:[{X:"div",bk:["ytp-ce-video-title","ytp-webkit-ellipsis"],V:{dir:g.Hl(A.title||"")},SP:A.title},{X:"div",L:A.lA?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
SP:A.videoDuration||void 0}]}]};x=new g.J(B);break;case "PLAYLIST":B={X:"div",bk:["ytp-ce-element","ytp-ce-playlist"],V:{tabindex:"0","aria-label":A.yc||"","aria-hidden":"true"},W:[{X:"div",L:"ytp-ce-element-shadow"},{X:"div",L:"ytp-ce-covering-image",V:Mf(A)},{X:"div",L:"ytp-ce-covering-shadow-top"},{X:"a",L:"ytp-ce-covering-overlay",V:{href:l$(B,A.targetUrl),tabindex:"-1"},W:[{X:"div",bk:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],V:{dir:g.Hl(A.title||"")},SP:A.title},{X:"div",L:"ytp-ce-playlist-count",
W:[{X:"div",L:"ytp-ce-playlist-icon"},{X:"div",L:"ytp-ce-playlist-count-text",SP:A.playlistLength||void 0}]}]}]};x=new g.J(B);break;case "CHANNEL":x={X:"div",bk:["ytp-ce-element","ytp-ce-channel",A.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],V:{tabindex:"0","aria-label":A.yc||"","aria-hidden":"true"},W:[{X:"div",L:"ytp-ce-element-shadow"},{X:"div",L:"ytp-ce-expanding-overlay",W:[{X:"div",L:"ytp-ce-expanding-overlay-hider"},{X:"div",L:"ytp-ce-expanding-overlay-background"},{X:"div",L:"ytp-ce-expanding-overlay-content",
W:[{X:"div",L:"ytp-ce-expanding-overlay-body",W:[{X:"div",L:"ytp-ce-expanding-overlay-body-padding",W:[{X:"a",bk:["ytp-ce-channel-title","ytp-ce-link"],V:{href:l$(B,A.targetUrl),target:"_blank",tabindex:"-1",dir:g.Hl(A.title||"")},SP:A.title},A.subscribeButton?{X:"div",L:"ytp-ce-subscribe-container",W:[{X:"div",L:"ytp-ce-channel-subscribe"}]}:"",A.subscribersText?{X:"div",L:"ytp-ce-channel-subscribers-text",SP:A.subscribersText}:"",A.metadata?{X:"div",bk:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],SP:A.metadata}:""]}]}]}]},{X:"div",L:"ytp-ce-expanding-image",V:Mf(A)}]};x=new g.J(x);var w=g.GQ(document,"div","ytp-ce-channel-subscribe",x.element)[0];if(A.subscribeButton&&A.channelId){g.Pl(w,"ytp-ce-subscribe-button");if(B.player.C().U){var c=null;var V=A.sessionData.itct}else c="endscreen",V=null;c=new g.YH(A.subscribeButton.subscribeText,A.subscribeButton.subscribeCount,A.subscribeButton.unsubscribeText,A.subscribeButton.unsubscribeCount,!!A.subscribeButton.enabled,!!A.subscribeButton.classic,
A.channelId,!!A.subscribeButton.subscribed,c,V,B.player,!1);w.appendChild(c.element);B.j.push(c)}break;case "WEBSITE":B={X:"div",bk:["ytp-ce-element","ytp-ce-website"],V:{tabindex:"0","aria-label":A.yc||"","aria-hidden":"true"},W:[{X:"div",L:"ytp-ce-element-shadow"},{X:"div",L:"ytp-ce-expanding-overlay",W:[{X:"div",L:"ytp-ce-expanding-overlay-hider"},{X:"div",L:"ytp-ce-expanding-overlay-background"},{X:"div",L:"ytp-ce-expanding-overlay-content",W:[{X:"div",L:"ytp-ce-expanding-overlay-body",W:[{X:"div",
L:"ytp-ce-expanding-overlay-body-padding",W:[{X:"div",L:"ytp-ce-website-title",V:{dir:g.Hl(A.title||"")},SP:A.title},{X:"div",L:"ytp-ce-website-metadata",SP:A.metadata},{X:"a",bk:["ytp-ce-website-goto","ytp-ce-link"],V:{href:l$(B,A.targetUrl),target:"_blank",tabindex:"-1"},SP:A.callToAction}]}]}]}]},{X:"div",L:"ytp-ce-expanding-image",V:Mf(A)},{X:"div",L:"ytp-ce-expanding-icon",V:OR0(A.iconUrl)}]};x=new g.J(B);break;case "CREATOR_MERCHANDISE":x="",A.productPrice&&(x={X:"div",L:"ytp-ce-merchandise-price-container",
W:[{X:"div",L:"ytp-ce-merchandise-price",SP:A.productPrice}]},A.additionalFeesText&&x.W.push({X:"div",L:"ytp-ce-merchandise-additional-fees",SP:A.additionalFeesText})),B={X:"div",bk:["ytp-ce-element","ytp-ce-merchandise"],V:{tabindex:"0","aria-label":A.yc||"","aria-hidden":"true"},W:[{X:"div",L:"ytp-ce-element-shadow"},{X:"div",L:"ytp-ce-expanding-overlay",W:[{X:"div",L:"ytp-ce-expanding-overlay-hider"},{X:"div",L:"ytp-ce-expanding-overlay-background"},{X:"div",L:"ytp-ce-expanding-overlay-content",
W:[{X:"div",L:"ytp-ce-expanding-overlay-body",W:[{X:"div",L:"ytp-ce-expanding-overlay-body-padding",W:[{X:"div",L:"ytp-ce-merchandise-title",V:{dir:g.Hl(A.title||"")},SP:A.title},x,{X:"div",L:"ytp-ce-merchandise-metadata",SP:A.metadata},{X:"a",bk:["ytp-ce-merchandise-goto","ytp-ce-link"],V:{href:l$(B,A.targetUrl),target:"_blank",tabindex:"-1"},SP:A.callToAction}]}]}]}]},{X:"div",L:"ytp-ce-expanding-image",V:Mf(A)},{X:"div",L:"ytp-ce-merchandise-invideo-cta-container",W:[{X:"div",L:"ytp-ce-merchandise-invideo-cta",
SP:A.callToAction||void 0}]}]},x=new g.J(B)}A.isPlaceholder&&g.Pl(x.element,"ytp-ce-placeholder");return x},Mf=function(B){if(B.iY)var A=B.iY.thumbnails;
return OR0(A?A[A.length-1].url:null)},OR0=function(B){return B?{style:"background-image: url("+B+")"}:{}},eQY=function(B,A,x){function w(Y){Y&&(A.listen("blur",function(){Y.style.display!="none"&&B.A$&&Y.focus()}),A.G(Y,"focus",V),A.G(Y,"blur",Z))}
function c(Y){B.T+=Y;B.T>0?(g.Pl(A.element,"ytp-ce-force-expand"),TJ(B,x.id,!0)):(g.NY(A.element,"ytp-ce-force-expand"),g.NY(A.element,"ytp-ce-element-hover"),TJ(B,x.id,!1))}
function V(){c(1)}
function Z(){c(-1)}
A.listen("mouseenter",function(){aF4(B,A,x)});
A.listen("mouseleave",function(){FRj(B,A,x)});
B.player.C().U||A.listen("click",function(){g.Pl(A.element,"ytp-ce-element-hover")});
A.listen("click",function(Y){g80(B,x,Y)});
A.listen("keypress",function(Y){g80(B,x,Y)});
A.listen("focus",function(){aF4(B,A,x)});
A.listen("blur",function(){FRj(B,A,x)});
A.listen("touchstart",function(){aF4(B,A,x)});
var R=g.sC("ytp-ce-expanding-overlay-hider",A.element);R&&A.G(R,"touchstart",function(Y){Y.stopPropagation();g.NY(A.element,"ytp-ce-element-hover");g.NY(A.element,"ytp-ce-force-expand")});
A.listen("keydown",function(Y){B.A$=Y.keyCode===9&&!Y.shiftKey});
w(g.sC("ytp-sb-subscribe",A.element));w(g.sC("ytp-sb-unsubscribe",A.element));A.listen("focus",V);A.listen("blur",Z)},g80=function(B,A,x){if(A.targetUrl&&(!x||x.type!=="keypress"||x.keyCode===13)){for(var w=x.target;w&&!g.Wl(w,"ytp-ce-element");){g.Wl(w,"subscribe-label")&&MNj(B,A);
if(g.Wl(w,"ytp-ce-channel-subscribe"))return;w=w.parentElement||null}if(!w||g.Wl(w,"ytp-ce-element-hover")){x.preventDefault();x.stopPropagation();if(w=B.U[A.id])FRj(B,w,A),w.element.blur();if(x.ctrlKey||x.metaKey||A.SCP==="new")MNj(B,A),B.player.sendVideoStatsEngageEvent(17,void 0),B.player.pauseVideo(),x=g.Fo(l$(B,A.targetUrl)),x=g.e5(x),g.AA(x,void 0,A.sessionData);else{var c=g.Gx(B.player.C())||B.player.getVideoData().l5,V=function(){var Z=l$(B,A.targetUrl),R=A.sessionData,Y=A.watchEndpoint,n=
g.$5(Z);c&&n&&(n.v||n.list)?B.player.HL(n.v,R,n.list,!1,void 0,Y||void 0):g.Bj(Z,R)};
MNj(B,A,function(){B.player.sendVideoStatsEngageEvent(17,V)})}}}},l$=function(B,A){B=B.player.C();
if(A){if(A.startsWith("//"))return B.protocol+":"+A;if(A.startsWith("/"))return g.cD(B)+A}else return"";return A},aF4=function(B,A,x){g.Wl(A.element,"ytp-ce-element-hover")||(x.type==="VIDEO"||x.type==="PLAYLIST"?g.Pl(A.element,"ytp-ce-element-hover"):B.player.C().U?(new g.dN(function(){g.Pl(A.element,"ytp-ce-element-hover")},200)).start():g.Pl(A.element,"ytp-ce-element-hover"),ms(B,x.f9$),TJ(B,x.id,!0))},FRj=function(B,A,x){g.NY(A.element,"ytp-ce-element-hover");
g.NY(A.element,"ytp-ce-force-expand");TJ(B,x.id,!1)},TJ=function(B,A,x){B.S&&(x?B.K.show():B.K.hide());
for(var w=g.W(Object.keys(B.U)),c=w.next();!c.done;c=w.next())c=c.value,c!==A&&g.kw(B.U[c].element,"ytp-ce-element-shadow-show",x)},ms=function(B,A,x){function w(){V||(c++,c===A.length&&(Z.stop(),x&&x()))}
if(!A||A.length===0||FZ(B))x&&x();else{A=lFY(B,A);var c=0,V=!1,Z=new g.dN(function(){V=!0;x&&x()},1E3,B);
Z.start();for(B=0;B<A.length;B++)g.Bo(A[B],w)}},MNj=function(B,A,x){ms(B,A.clickUrls,x);
(B=g.MS())&&A.OFS&&g.QH(B,A.visualElement)},lFY=function(B,A){var x=B.player.getVideoData().clientPlaybackNonce;
B=B.player.getCurrentTime().toFixed(2);x={CPN:x,AD_CPN:x,MT:B};B=[];for(var w=0;w<A.length;w++)B.push(TvV(A[w],x));return B},TvV=function(B,A){return B.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(x){var w=unescape(x);
w=w.substring(1,w.length-1);return A[w]?escape(A[w]):x})},m$8=function(B){return typeof B==="string"?B:""},LX=function(B,A,x){for(var w in A)if(A[w]===B)return B;
return x},LRc=function(B,A,x,w){this.value=B;
this.target=A;this.showLinkIcon=x;this.N=w},te=function(B){return B.value?B.value:null},b$=function(B){if(!B)return null;
var A=g.Fo(m$8(B.value));A=g.e5(A);if(!A)return null;var x=LX(B.target,tNY,"current");if(x==null)B=null;else{var w=B.show_link_icon;B=new LRc(A,x,w==="true"||w==="false"?w==="true":!0,B.pause_on_navigation!=null?B.pause_on_navigation:!0)}return B},bRr=function(B,A,x){this.type=B;
this.trigger=A;this.url=x},v8_=function(B){if(!B)return null;
var A=LX(B.type,o8V),x=LX(B.trigger,JKY);B=B.url;B=Array.isArray(B)&&B.length?B[0]:B;B=b$(B?B:null);return A?new bRr(A,x,B):null},Xt0=function(B,A,x,w,c){this.id=B;
this.type=A;this.style=x;this.data=c;this.action=w||[]},zQ8=function(B,A){return g.z4(B.action,A)},iR_=function(B,A){this.context=B;
this.N=A},GLr=function(B){return B.customMessage?o0("div","iv-card-message",B.customMessage):""},Je=function(B,A){B="background-image: url("+B+");";
var x=[];A&&x.push(A);return{X:"div",L:"iv-card-image",V:{style:B},W:x}},sQW=function(B){if(!B.metaInfo||B.metaInfo.length===0)return"";
var A=[];B=g.W(B.metaInfo);for(var x=B.next();!x.done;x=B.next())A.push(o0("li","",x.value));return{X:"ul",L:"iv-card-meta-info",W:A}},o0=function(B,A,x){A?typeof A==="string"?A={"class":A}:Array.isArray(A)&&(A={"class":A.join(" ")}):A={};
A.dir=g.Hl(x);return{X:B,V:A,SP:x}},D$o=function(B){if(!B.customMessage)return"";
var A=["iv-card-action","iv-card-primary-link"],x={};B.XY&&(A.push("iv-card-action-icon"),x.style="background-image: url("+B.XY+");");x.dir=g.Hl(B.customMessage);var w=[{X:"span",SP:B.customMessage}];B.showLinkIcon&&(w.push("\u00a0"),w.push({X:"span",L:"iv-card-link-icon"}));return{X:"div",bk:A,V:x,W:w}},vi=function(B,A,x,w){if(w){A=g.W(A);
for(var c=A.next();!c.done;c=A.next())B.N(c.value,w,x.id,x.sessionData,x.n1.click,5)}},B40=function(B,A){this.merchant=B;
this.price=A},AjW=function(B){var A;
(A=B)&&!(A=B.length>1?B.charAt(0)==="/"&&B.charAt(1)!=="/":B==="/")&&(A=B.replace(/^(https?:)?\/\//,"").split("/",1),A=!A||A.length<1||!A[0]?[]:A[0].toLowerCase().split(".").reverse(),A=A[0]==="com"&&A[1]==="youtube"||A[0]==="be"&&A[1]==="youtu");return A?B.indexOf("/redirect?")===-1:!1},x_7=function(B,A){return A?A:AjW(B)?"current":"new"},XZ=function(B,A){g.l.call(this);
var x=this;this.element=B;this.context=A;this.Z9=!1;this.GM=new Map;this.h$=new Map;this.context.J.addEventListener(g.hc("annotations_module"),function(w){(w=x.GM.get(w))&&w.apply(x)});
this.context.J.addEventListener(g.QS("annotations_module"),function(w){(w=x.h$.get(w))&&w.apply(x)})},zJ=function(B,A,x,w,c,V,Z){B.context.N.listen(A,"click",function(R){B.DQ(x,w,c,V||[],Z||0,R)});
B.context.N.listen(A,"touchstart",function(){B.Z9=!1});
B.context.N.listen(A,"touchmove",function(){B.Z9=!0})},wdh=function(B){var A;
return((A=g.m(B,g.Xi))==null?0:A.url)?g.m(B,g.Xi).url:(B=g.m(B,g.sH))&&B.videoId?(A="/watch?v="+B.videoId,B.playlistId&&(A+="&list="+B.playlistId),B.index&&(A+="&index="+B.index),B.startTimeSeconds&&(A+="&t="+B.startTimeSeconds),A):null},i$=function(B,A,x){return{kx:(B.impressionLoggingUrlsV2s||[]).map(function(w){return w.baseUrl||""}),
click:(x.loggingUrls||[]).map(function(w){return w.baseUrl||""}),
close:(A.dismissLoggingUrlsV2s||[]).map(function(w){return w.baseUrl||""}),
Qf:(A.impressionLoggingUrlsV2s||[]).map(function(w){return w.baseUrl||""}),
YX:(A.clickLoggingUrlsV2s||[]).map(function(w){return w.baseUrl||""})}},cjV=function(B,A,x){XZ.call(this,A,x);
var w=this;this.J=B;this.eventId=null;this.vC=this.J$=this.fk=this.S=this.isInitialized=!1;this.cards=[];this.sD=this.j=this.PR=this.K=this.LF=this.N=null;this.A$=[];this.Et=this.T=this.i5=this.fF=null;this.Y=0;this.XR=new g.dN(function(){},x.NZ.pu?4E3:3E3);
g.T(this,this.XR);this.oS=new g.dN(function(){});
g.T(this,this.oS);this.qZ=new iR_(x,function(c,V,Z,R,Y,n){zJ(w,c,V,Z,R,Y,n)});
this.Z=new g.J({X:"div",L:"iv-drawer",V:{id:"iv-drawer"},W:[{X:"div",L:"iv-drawer-header",V:{"aria-role":"heading"},W:[{X:"span",L:"iv-drawer-header-text"},{X:"button",bk:["iv-drawer-close-button","ytp-button"],V:{"aria-label":"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062a",tabindex:"0"}}]},{X:"div",L:"iv-drawer-content"}]});g.T(this,this.Z);this.D=this.Z.element;this.HR=new g.dj(this.Z,330);g.T(this,this.HR);this.wm=g.sC("iv-drawer-header-text",this.D);this.U=g.sC("iv-drawer-content",
this.D);this.addCueRange(0,x.videoData.lengthSeconds*1E3,"",function(){w.fk&&GJ(w,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(w.fk=w.S)&&Dz(w)});
this.KF=new g.be(this);g.T(this,this.KF);this.J.addEventListener("videodatachange",this.Z0.bind(this))},V5h=function(B,A){A=A.data;
A.autoOpenMs&&B.addCueRange(A.autoOpenMs,0x8000000000000,"",function(){GJ(B,"YOUTUBE_DRAWER_AUTO_OPEN")});
A.autoCloseMs&&B.addCueRange(A.autoCloseMs,0x8000000000000,"",function(){Dz(B)});
var x=A.headerText;g.rJ(B.wm,x);B.j&&B.j.setAttribute("title",x);A.eventId&&(B.eventId=A.eventId);B.fF=g.aJ(A.trackingParams);B.T=g.aJ(A.closeTrackingParams);B.i5=g.aJ(A.iconTrackingParams)},Zjh=function(B,A){var x=A.cardId?A.cardId:"cr:"+B.Y,w=B.J.C().experiments.WR("enable_error_corrections_infocard_web_client");
if(!A.content&&A.teaser.simpleCardTeaserRenderer&&w){var c=A.teaser.simpleCardTeaserRenderer,V=A.icon?A.icon.infoCardIconRenderer:null;A={id:x,timestamp:B.Y,type:"simple",teaserText:g.pQ(c.message),teaserDurationMs:Number(A.cueRanges[0].teaserDurationMs),startMs:Number(A.cueRanges[0].startCardActiveMs),autoOpen:!!A.autoOpen,sessionData:{},sponsored:!1,n1:{},NI:null,Ng:c.trackingParams?g.aJ(c.trackingParams):null,i5:V&&V.trackingParams?g.aJ(V.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
XY:null,title:"",customMessage:"",url:null,onClickCommand:c.onTapCommand||null};B5(B,A)}else{var Z;if((Z=A.content)==null?0:Z.simpleCardContentRenderer){if(!A.cueRanges.length)return;V=(c=A.content)==null?void 0:c.simpleCardContentRenderer;c=A.teaser.simpleCardTeaserRenderer;var R=A.icon?A.icon.infoCardIconRenderer:null;A={id:x,timestamp:B.Y,type:"simple",teaserText:g.pQ(c.message),teaserDurationMs:Number(A.cueRanges[0].teaserDurationMs),startMs:Number(A.cueRanges[0].startCardActiveMs),autoOpen:!!A.autoOpen,
sessionData:Ay(B,x,A,V),sponsored:!1,n1:i$(V,c,V.command),NI:V.trackingParams?g.aJ(V.trackingParams):null,Ng:c.trackingParams?g.aJ(c.trackingParams):null,i5:R&&R.trackingParams?g.aJ(R.trackingParams):null,imageUrl:xo(V.image.thumbnails,290).url,displayDomain:V.displayDomain?g.pQ(V.displayDomain):null,showLinkIcon:!!V.showLinkIcon,XY:null,title:V.title?g.pQ(V.title):"",customMessage:V.callToAction?g.pQ(V.callToAction):"",url:g.m(V.command,g.Xi).url?b$({pause_on_navigation:!B.context.videoData.isLivePlayback,
target:"new",value:g.m(V.command,g.Xi).url}):null,onClickCommand:null};B5(B,A)}else{var Y;if((Y=A.content)==null?0:Y.collaboratorInfoCardContentRenderer){if(!A.cueRanges.length)return;c=(V=A.content)==null?void 0:V.collaboratorInfoCardContentRenderer;V=A.teaser.simpleCardTeaserRenderer;R=A.icon?A.icon.infoCardIconRenderer:null;A={id:x,timestamp:B.Y,type:"collaborator",teaserText:g.pQ(V.message),teaserDurationMs:Number(A.cueRanges[0].teaserDurationMs),startMs:Number(A.cueRanges[0].startCardActiveMs),
autoOpen:!!A.autoOpen,sessionData:Ay(B,x,A,c),sponsored:!1,n1:i$(c,V,c.endpoint),NI:c.trackingParams?g.aJ(c.trackingParams):null,Ng:V.trackingParams?g.aJ(V.trackingParams):null,i5:R&&R.trackingParams?g.aJ(R.trackingParams):null,channelId:g.m(c.endpoint,g.KK).browseId,customMessage:c.customText?g.pQ(c.customText):null,profileImageUrl:xo(c.channelAvatar.thumbnails,290).url,title:c.channelName?g.pQ(c.channelName):"",metaInfo:[c.subscriberCountText?g.pQ(c.subscriberCountText):""],url:b$({pause_on_navigation:!B.context.videoData.isLivePlayback,
target:"new",value:g.m(c.endpoint,g.KK).canonicalBaseUrl?g.m(c.endpoint,g.KK).canonicalBaseUrl:"/channel/"+g.m(c.endpoint,g.KK).browseId}),onClickCommand:null};B5(B,A)}else{var n;if((n=A.content)==null?0:n.playlistInfoCardContentRenderer){if(!A.cueRanges.length)return;c=(R=A.content)==null?void 0:R.playlistInfoCardContentRenderer;V=A.teaser.simpleCardTeaserRenderer;R=A.icon?A.icon.infoCardIconRenderer:null;A={id:x,timestamp:B.Y,type:"playlist",teaserText:g.pQ(V.message),teaserDurationMs:Number(A.cueRanges[0].teaserDurationMs),
startMs:Number(A.cueRanges[0].startCardActiveMs),autoOpen:!!A.autoOpen,sessionData:Ay(B,x,A,c),sponsored:!1,n1:i$(c,V,c.action),NI:c.trackingParams?g.aJ(c.trackingParams):null,Ng:V.trackingParams?g.aJ(V.trackingParams):null,i5:R&&R.trackingParams?g.aJ(R.trackingParams):null,wY:xo(c.playlistThumbnail.thumbnails,258).url,customMessage:c.customMessage?g.pQ(c.customMessage):null,playlistVideoCount:g.pQ(c.playlistVideoCount),title:c.playlistTitle?g.pQ(c.playlistTitle):"",metaInfo:[c.channelName?g.pQ(c.channelName):
"",c.videoCountText?g.pQ(c.videoCountText):""],url:b$({pause_on_navigation:!B.context.videoData.isLivePlayback,target:"new",value:wdh(c.action)}),onClickCommand:null};B5(B,A)}else{var r;if((r=A.content)==null?0:r.videoInfoCardContentRenderer){if(!A.cueRanges.length)return;var d;c=(d=A.content)==null?void 0:d.videoInfoCardContentRenderer;V=A.teaser.simpleCardTeaserRenderer;R=A.icon?A.icon.infoCardIconRenderer:null;A={id:x,timestamp:B.Y,type:"video",teaserText:g.pQ(V.message),teaserDurationMs:Number(A.cueRanges[0].teaserDurationMs),
startMs:Number(A.cueRanges[0].startCardActiveMs),autoOpen:!!A.autoOpen,sessionData:Ay(B,x,A,c),sponsored:!1,n1:i$(c,V,c.action),NI:c.trackingParams?g.aJ(c.trackingParams):null,Ng:V.trackingParams?g.aJ(V.trackingParams):null,i5:R&&R.trackingParams?g.aJ(R.trackingParams):null,wY:xo(c.videoThumbnail.thumbnails,258).url,videoDuration:c.lengthString?g.pQ(c.lengthString):null,customMessage:c.customMessage?g.pQ(c.customMessage):null,title:c.videoTitle?g.pQ(c.videoTitle):"",metaInfo:[c.channelName?g.pQ(c.channelName):
"",c.viewCountText?g.pQ(c.viewCountText):""],isLiveNow:!!c.badge,url:b$({pause_on_navigation:!B.context.videoData.isLivePlayback,target:"new",value:wdh(c.action)}),onClickCommand:null};B5(B,A)}}}}}B.Y++},xo=function(B,A){for(var x=-1,w=-1,c=0;c<B.length;c++){if(B[c].height===A||B[c].width===290)return B[c];
((B[c].height||0)<A||(B[c].width||0)<290)&&(x<0||(B[x].height||0)<(B[c].height||0)||(B[x].width||0)<(B[c].width||0))?x=c:((B[c].height||0)>=A||(B[c].width||0)>=290)&&(w<0||(B[w].height||0)>(B[c].height||0)||(B[w].width||0)>(B[c].width||0))&&(w=c)}return B[w>=0?w:x]},Ay=function(B,A,x,w){return{feature:x.feature?x.feature:"cards",
src_vid:B.context.videoData.videoId,annotation_id:A,ei:B.context.videoData.eventId||"",itct:w.trackingParams||""}},R6V=function(B,A){if(A=Skr(B,A))A===B.N&&(B.N=null),B.J.removeCueRange(A.x_.id),g.Ym(A.BI),g.Dh(B.cards,A),B.V_(),wn(B)},GJ=function(B,A,x){if(!B.S){B.HR.show();
B.LF=new g.dN(function(){g.Pl(B.context.J.getRootNode(),g.Ja.IV_DRAWER_OPEN)},0);
B.LF.start();B.KF.G(B.U,"mousewheel",function(Z){B.XR.start();Z.preventDefault();Z=Z||window.event;var R=0;Z.type=="MozMousePixelScroll"?R=0==(Z.axis==Z.HORIZONTAL_AXIS)?Z.detail:0:window.opera?R=Z.detail:R=Z.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?Z.wheelDeltaY/-30:Z.wheelDeltaY/-1.2:Z.wheelDelta/-1.6:Z.wheelDeltaY/-3;if(Z=R)B.U.scrollTop+=Z});
B.S=!0;var w=g.MS();w&&B.fF&&B.T&&g.fQ(w,[B.fF,B.T]);A={TRIGGER_TYPE:A};for(var c=g.W(B.cards),V=c.next();!V.done;V=c.next())V=V.value,V.Jx||(V.Jx=!0,Yk8(B.context.logger,V.x_.n1.kx,A)),w&&g.fQ(w,[V.x_.NI]);CX(B.J);x&&(B.K=new g.dN(function(){B.PR=B.j;B.sD.focus()},330),B.K.start())}},Dz=function(B){B.S&&(B.HR.hide(),g.bD(B.KF),g.NY(B.context.J.getRootNode(),g.Ja.IV_DRAWER_OPEN),B.S=!1,CX(B.J),B.K&&B.K.stop(),B.K=new g.dN(function(){B.PR&&(B.PR.focus(),B.PR=null)},330),B.K.start())},nuh=function(B){g.U5(B.zw(),
[g.Ja.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Ob(B.J,B.D,5);B.FH();B.j=g.sC("ytp-cards-button",B.J.getRootNode());B.sD=g.sC("iv-drawer-close-button",B.D);B.isInitialized=!0},rjY=function(B){B.A$.push(g.$V("iv-teaser-shown",B.zr,B));
B.A$.push(g.$V("iv-teaser-hidden",B.l9Z,B));B.A$.push(g.$V("iv-teaser-clicked",B.q9,B));B.vC=!0},d_W=function(B,A){var x;
return A.onClickCommand&&((x=g.m(A.onClickCommand,g.L8c))==null?void 0:x.targetId)==="engagement-panel-error-corrections"?(B.Et=A,!0):!1},qko=function(B,A){B.Et=A;
var x=B.J.getVideoData();if(!x)return!1;x=g.CF(x);if(x==null?0:x.markersMap)for(var w,c=0;((w=x)==null?void 0:w.markersMap.length)>c;c++){var V=void 0,Z=(V=x)==null?void 0:V.markersMap[c];if(Z.key==="ERROR_CORRECTION_MARKERS"&&(V=void 0,(Z=(V=Z.value)==null?void 0:V.markers)&&Z.length>0))return w=void 0,A.startMs=((w=g.m(Z[0],g.KCx))==null?void 0:w.timeRangeStartMillis)||0,B.Et=null,!0}return!1},B5=function(B,A){if(!d_W(B,A)||qko(B,A)){var x=fZ4(B,A);
if(x){var w={x_:A,BI:x.element,Jx:!1};if(A.onClickCommand)B.J.B("web_infocards_teaser_show_logging_fix")&&(B.vC||rjY(B),R6V(B,A.id),x=B.findLastIndex(w),g.Zg(B.cards,x,0,w));else{B.isInitialized||nuh(B);R6V(B,A.id);var c=B.findLastIndex(w);g.Zg(B.cards,c,0,w);x.QP(B.U,c);B.V_()}A.autoOpen?B.addCueRange(A.startMs,0x8000000000000,A.id,function(){B.S||(B.N=w,wn(B),h6V(B,w),GJ(B,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(x=B.context.J.getCurrentTime()*1E3,x<5E3&&x>A.startMs&&Qj_(B,w),B.addCueRange(A.startMs,
A.startMs+1,A.id,function(){Qj_(B,w)}),wn(B))}}},fZ4=function(B,A){switch(A.type){case "simple":B=B.qZ;
var x=A.displayDomain?{X:"div",L:"iv-card-image-text",SP:A.displayDomain}:void 0;var w=D$o(A);x={X:"div",bk:["iv-card"],W:[{X:"a",L:"iv-click-target",V:{href:A.url?te(A.url)||"":""},W:[Je(A.imageUrl,x),{X:"div",L:"iv-card-content",W:[o0("h2",void 0,A.title),w]}]}]};x=new g.J(x);vi(B,g.iI("iv-click-target",x.element),A,A.url);A=x;break;case "collaborator":B=B.qZ;x={X:"div",bk:["iv-card","iv-card-channel"],W:[{X:"a",bk:["iv-click-target"],V:{href:te(A.url)||"","data-ytid":A.channelId},W:[Je(A.profileImageUrl),
{X:"div",L:"iv-card-content",W:[GLr(A),{X:"h2",L:"iv-card-primary-link",SP:A.title},sQW(A)]}]}]};x=new g.J(x);vi(B,g.iI("iv-click-target",x.element),A,A.url);A=x;break;case "playlist":B=B.qZ;x={X:"div",bk:["iv-card","iv-card-playlist"],W:[{X:"a",L:"iv-click-target",V:{href:te(A.url)||""},W:[Je(A.wY,{X:"div",L:"iv-card-image-overlay",W:[{X:"span",L:"iv-card-playlist-video-count",SP:A.playlistVideoCount}]}),{X:"div",L:"iv-card-content",W:[GLr(A),o0("h2","iv-card-primary-link",A.title),sQW(A)]}]}]};
x=new g.J(x);vi(B,g.iI("iv-click-target",x.element),A,A.url);A=x;break;case "productListing":B=B.qZ;var c=A.offers.length!=0;x=["iv-card"];w="";var V=D$o(A);c&&(x.push("iv-card-product-listing"),w="iv-card-primary-link",V=A.offers[0],c=[],V.price&&c.push({X:"div",L:"iv-card-offer-price",SP:V.price}),V.merchant&&c.push({X:"div",L:"iv-card-offer-merchant",SP:V.merchant}),V={X:"div",W:c});c=A.url?te(A.url)||"":"";x={X:"div",bk:x,V:{tabindex:"0"},W:[{X:"a",bk:["iv-card-image","iv-click-target"],V:{style:"background-image: url("+
A.imageUrl+");",href:c,"aria-hidden":"true",tabindex:"-1"}},{X:"div",L:"iv-card-content",W:[A.sponsored?{X:"div",L:"iv-card-sponsored",W:["\u062f\u0639\u0627\u0626\u064a\u0629",{X:"div",L:"iv-ad-info-container",W:[{X:"div",L:"iv-ad-info",SP:"{{adInfo}}"},{X:"div",L:"iv-ad-info-icon-container",W:[{X:"div",L:"iv-ad-info-icon"},{X:"div",L:"iv-ad-info-callout"}]}]}]}:"",{X:"a",L:"iv-click-target",V:{href:c},W:[o0("h2",w,A.title),V]}]}]};x=new g.J(x);w=g.cP("span");g.rJ(w,"\u064a\u062a\u0645 \u0639\u0631\u0636 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062a\u062c \u0644\u0623\u0646\u0646\u0627 \u0646\u0639\u062a\u0642\u062f \u0623\u0646\u0647 \u0630\u0648 \u0635\u0644\u0629 \u0628\u0627\u0644\u0641\u064a\u062f\u064a\u0648. \u0648\u0642\u062f \u062a\u062d\u0635\u0644 Google \u0639\u0644\u0649 \u0645\u0642\u0627\u0628\u0644 \u0645\u0627\u062f\u064a \u0645\u0646 \u0627\u0644\u062a\u0627\u062c\u0631.");
x.RQ(w,"adInfo");vi(B,g.iI("iv-click-target",x.element),A,A.url);A=x;break;case "video":B=B.qZ;w=A.videoDuration?{X:"span",L:"iv-card-video-duration",SP:A.videoDuration}:void 0;V=A.isLiveNow?{X:"span",bk:["yt-badge","yt-badge-live"],SP:"\u0645\u0628\u0627\u0634\u0631 \u0627\u0644\u0622\u0646"}:null;c={X:"div",bk:["iv-card","iv-card-video"],W:[{X:"a",L:"iv-click-target",V:{href:((x=A.url)==null?void 0:te(x))||""},W:[Je(A.wY,w),{X:"div",L:"iv-card-content",W:[GLr(A),o0("h2","iv-card-primary-link",A.title),
sQW(A),V]}]}]};x=new g.J(c);vi(B,g.iI("iv-click-target",x.element),A,A.url);A=x;break;default:return null}return A},IZ4=function(B){if(B.N)return B.N.x_.type==="productListing";
if(B.J.B("enable_wn_infocards")){var A;return!((A=B.cards)==null||!A.length)&&g.lL(B.cards,function(x){return x.x_.type==="productListing"})}return g.lL(B.cards,function(x){return x.x_.type==="productListing"})},wn=function(B){g.kw(B.J.getRootNode(),"ytp-cards-shopping-active",IZ4(B))},Qj_=function(B,A){if(!g.Wl(B.J.getRootNode(),"ytp-cards-teaser-shown")){if(B.N!==A){var x=g.MS(),w=B.N?B.N.x_.i5:B.i5;
x&&w&&g.h1(x,[w]);B.N=A;wn(B)}(x=B.isInitialized&&B.zw().style.display=="none")||(x=B.context.J.getPlayerState(),w=x===0&&B.context.J.getCurrentTime()===0,x=!(x===1||x===3||w));x||A.x_.teaserDurationMs&&B.J.s2(!0,{teaserText:A.x_.teaserText,durationMs:A.x_.teaserDurationMs,onClickCommand:A.x_.onClickCommand});B.oS.isActive()||((!B.S||!B.XR.isActive()&&B.J$)&&h6V(B,A),B.oS.start(910+A.x_.teaserDurationMs))}},h6V=function(B,A){B.Z.DK?(A=new u$([0,
B.U.scrollTop],[0,A.BI.offsetTop],600,jQ4),B.context.S.listen(A,"animate",function(x){B.U.scrollTop=x.y}),B.context.S.listen(A,"finish",function(x){B.U.scrollTop=x.y}),A.play()):(B.Z.s5(!0),B.U.scrollTop=A.BI.offsetTop,B.Z.s5(!1))},c5=function(B){return B.N&&B.N.x_?B.N.x_:B.cards[0]&&B.cards[0].x_?B.cards[0].x_:null},Skr=function(B,A){return g.z4(B.cards,function(x){return x.x_.id===A})},Vy=function(B,A,x){XZ.call(this,B,A);
this.annotation=x;this.isActive=!1},$_W=function(B){var A=B.annotation.data;
"start_ms"in A&&"end_ms"in A&&B.addCueRange(Number(A.start_ms),Number(A.end_ms),B.annotation.id,function(){B.show()},function(){B.hide()})},Zp=function(B,A,x){Vy.call(this,B,A,x);
this.U=null;this.T=!1;this.S=null;this.D=!1;this.N=this.Y=this.K=null},Wnr=function(B,A){var x=x===void 0?0:x;
var w=fFj(A).width;g.OJ(A,w);x=new U$0(A,[w,A.offsetTop],[w-w-x,A.offsetTop],200,Nvh);g.T(B,x);B.context.S.listen(x,"begin",function(){g.TE(A,!0)});
x.play()},N4h=function(B,A){if(A.channel_name){var x=B.createElement({X:"div",
bk:["iv-branding-context-name"],SP:A.channel_name}),w=B.createElement({X:"div",bk:["iv-branding-context-subscribe"]}),c=A.standalone_subscribe_button_data;c&&(B.N=new g.YH(c.subscribeText,c.subscribeCount,c.unsubscribeText,c.unsubscribeCount,!!c.enabled,!!c.classic,A.channel_id,!!c.subscribed,c.feature,A.session_data.itct,B.context.J,!1),B.N.QP(w));var V=B.createElement({X:"div",bk:["iv-branding-context-subscribe-caret"]}),Z=B.createElement({X:"div",bk:["branding-context-container-inner"]});Z.appendChild(V);
Z.appendChild(x);Z.appendChild(w);g.TE(Z,!1);var R=B.createElement({X:"div",bk:["branding-context-container-outer"]});R.appendChild(Z);g.jA(R,"right",A.image_width+"px");g.Z4(B.zw(),R);B.S=new g.dN(function(){POr(B,Z,R)},500);
g.T(B,B.S);B.context.N.listen(B.zw(),"mouseover",function(){U_V(B,Z,R,V,A.image_height)});
B.context.N.listen(B.zw(),"mouseout",function(){B.S.start()})}},U_V=function(B,A,x,w,c){B.S.stop();
if(!B.D){var V=g.lH(A);B.N||(A.style.width=g.eA(V.width,!0),x.style.width=g.eA(V.width,!0));g.jA(w,"top",V.height-Math.max(Math.min(V.height,c)/2+10,20)+"px");g.jA(w,"right","1px");B.D=!0;g.TE(A,!0);B.K=new g.dN(function(){g.Pl(this.zw(),"iv-branding-active")},0,B);
B.K.start()}},POr=function(B,A,x){g.NY(B.zw(),"iv-branding-active");
B.Y=new g.dN(function(){g.TE(A,!1);B.N||(x.style.width=g.eA(0,!0))},250);
B.Y.start();B.D=!1},jjV=function(B,A,x,w,c,V,Z){this.N=B;
this.S=A;this.NZ=x;this.videoData=w;this.logger=c;this.J=V;this.U=Z},kt0=function(B,A,x){Vy.call(this,B,A,x);
var w=this;this.j=this.isCollapsed=this.Z=!1;this.Y=5E3;this.U=this.S=this.N=this.D=null;this.T=this.createElement({X:"div",bk:["iv-promo-contents"]});this.K=new g.dN(function(){w.N.setAttribute("aria-hidden","true");g.TE(w.S,!1);g.TE(w.U,!0)},700,this);
g.T(this,this.K)},COY=function(B){var A=B.annotation.data;
if(B.annotation.style==="cta")var x=6;else if(B.annotation.style==="video"||B.annotation.style==="playlist")x=7;B.Y=A.collapsedelay_ms||B.Y;var w=["iv-promo","iv-promo-inactive"];B.zw().setAttribute("aria-hidden","true");B.zw().setAttribute("aria-label","\u062a\u0631\u0648\u064a\u062c");B.zw().tabIndex=0;var c=B.annotation.eA(),V=A.image_url;if(V){var Z=B.createElement({X:"div",bk:["iv-promo-img","iv-click-target"]});V=B.createElement({X:"img",V:{src:V,"aria-hidden":"true"}});Z.appendChild(V);A.video_duration&&
!A.is_live?(V=B.createElement({X:"span",L:"iv-promo-video-duration",SP:A.video_duration}),Z.appendChild(V)):A.playlist_length&&(V=B.createElement({X:"span",L:"iv-promo-playlist-length",SP:A.playlist_length.toString()}),Z.appendChild(V));c&&zJ(B,Z,c,B.annotation.id,A.session_data,void 0,x)}c?(V=B.createElement({X:"a",L:"iv-promo-txt"}),g.M_(V,te(c)),B.N=V):B.N=B.createElement({X:"div",L:"iv-promo-txt"});switch(B.annotation.style){case "cta":case "website":var R=B.createElement({X:"p",W:[{X:"strong",
SP:A.text_line_1}]});var Y=B.createElement({X:"p",W:[{X:"span",L:"iv-promo-link",SP:A.text_line_2}]});if(V=A.text_line_3){w.push("iv-promo-website-card-cta-redesign");var n=B.createElement({X:"button",bk:["iv-promo-round-expand-icon","ytp-button"]});V=B.createElement({X:"button",bk:["iv-button","iv-promo-button"],W:[{X:"span",L:"iv-button-content",SP:V}]});var r=B.createElement({X:"div",L:"iv-promo-button-container"});r.appendChild(V);c&&zJ(B,B.zw(),c,B.annotation.id,A.session_data,void 0,x)}g.Pl(B.N,
"iv-click-target");c&&zJ(B,B.N,c,B.annotation.id,A.session_data,void 0,x);break;case "playlist":case "video":R=B.createElement({X:"p",W:[{X:"span",SP:A.text_line_1}]}),Y=B.createElement({X:"p",W:[{X:"strong",SP:A.text_line_2}]}),A.is_live&&(R=Y,Y=B.createElement({X:"span",bk:["yt-badge","iv-promo-badge-live"],SP:"\u0645\u0628\u0627\u0634\u0631 \u0627\u0644\u0622\u0646"})),g.Pl(B.N,"iv-click-target"),c&&zJ(B,B.N,c,B.annotation.id,A.session_data,void 0,x),w.push("iv-promo-video")}R&&B.N.appendChild(R);
Y&&B.N.appendChild(Y);B.T.appendChild(B.N);r&&B.T.appendChild(r);x=B.createElement({X:"div",L:"iv-promo-actions"});B.U=B.createElement({X:"button",bk:["iv-promo-expand","ytp-button"]});B.U.title="\u062a\u0648\u0633\u064a\u0639";B.context.N.listen(B.U,"click",function(d){Knr(B,5E3,d)});
x.appendChild(B.U);g.TE(B.U,!1);B.context.N.listen(B.zw(),"mouseover",B.mR,B);B.context.N.listen(B.zw(),"mouseout",B.iH,B);B.context.N.listen(B.zw(),"touchend",function(d){Knr(B,5E3,d)});
B.S=B.createElement({X:"button",bk:["iv-promo-close","ytp-button"]});B.S.title="\u0625\u063a\u0644\u0627\u0642";B.context.N.listen(B.S,"click",B.annotation.style==="cta"&&A.text_line_3?B.x9:B.MB,B);x.appendChild(B.S);g.U5(B.zw(),w);Z&&(g.Z4(B.zw(),Z),n&&Z.appendChild(n));g.Z4(B.zw(),B.T);g.Z4(B.zw(),x)},Knr=function(B,A,x){x.stopPropagation();
pdr(B);Eur(B,A);B.N.focus()},yjY=function(B){B.isCollapsed||B.j||B.D||(g.Pl(B.zw(),"iv-promo-collapsed"),B.isCollapsed=!0,B.K.start())},pdr=function(B){B.K.stop();
B.isCollapsed&&(g.j9(B.zw(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),B.isCollapsed=!1,B.N&&B.N.removeAttribute("aria-hidden"),g.TE(B.U,!1),g.TE(B.S,!0))},Eur=function(B,A){B.D||(B.D=g.eJ(function(){Hjo(this);
yjY(this)},A,B))},Hjo=function(B){B.D&&(g.lg.clearTimeout(B.D),B.D=null)},uo_=function(B){this.J=B},Yk8=function(B,A,x){A&&(x?Sy(B,A.map(function(w){return g.oM(w,x)})):Sy(B,A))},Sy=function(B,A,x,w){var c=1,V=void 0,Z=-1;
if(x){var R=!1;V=function(){c--;c||R||(clearTimeout(Z),R=!0,x())};
Z=setTimeout(function(){R=!0;x()},1E3)}A=g.W(A||[]);
for(var Y=A.next();!Y.done;Y=A.next())Y=Y.value,c++,g.Bo(Y,V);w&&(c++,w!==0&&B.J.sendVideoStatsEngageEvent(w,V))},e6j=function(B){g.Ey.call(this,B);
var A=this;this.A$=this.j=!1;this.loadNumber=0;this.Y={};this.logger=new uo_(this.player);this.D=new g.be(this);this.K=this.T=null;this.events=new g.be(this);this.QD=this.Z=this.N=null;this.Et=[];g.T(this,this.D);this.D.G(this.player,"onVideoAreaChange",function(){A.publish("onVideoAreaChange")});
this.D.G(this.player,"onHideControls",function(){A.publish("onHideControls")});
this.D.G(this.player,"onShowControls",function(){A.publish("onShowControls")});
this.D.G(this.player,"resize",function(w){A.publish("resize",w)});
this.D.G(this.player,"presentingplayerstatechange",function(w){A.publish("presentingplayerstatechange",w)});
this.subscribe("presentingplayerstatechange",this.pj,this);this.subscribe("resize",this.rC,this);this.player.C().J$.subscribe("vast_info_card_add",this.T0,this);g.T(this,this.events);this.qZ=this.createElement({X:"div",L:"video-custom-annotations"});this.U=new g.J({X:"div",bk:["ytp-player-content","ytp-iv-player-content"]});g.T(this,this.U);g.Ob(this.player,this.U.element,4);this.U.hide();this.S=new g.J({X:"div",bk:["ytp-iv-video-content"]});g.T(this,this.S);B=this.createElement({X:"div",L:"video-annotations"});
B.appendChild(this.qZ);this.S.element.appendChild(B);this.Up()&&this.load();var x=this.createElement({X:"style"});(g.zQ("HEAD")[0]||document.body).appendChild(x);this.addOnDisposeCallback(function(){g.Ym(x)});
if(B=x.sheet)B.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),B.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),B.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),B.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),B.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),B.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),B.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),B.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),B.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),B.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},Ojo=function(B){B=B.createElement({X:"div",
bk:["annotation","annotation-type-custom"]});g.TE(B,!1);return B},aZV=function(B,A){A=!A.isCued()&&!g.X(A,1024);
B.U.s5(A);B.S.s5(A)},Fn_=function(B,A,x){B.j=!0;
B.K=g.TT(A,x)},gu7=function(B,A){for(var x={},w=g.W(A.attributes),c=w.next();!c.done;c=w.next())c=c.value,x[c.name]=c.nodeValue;
for(w=0;w<A.childNodes.length;w++)if(c=A.childNodes[w],g.JC(c)&&c.nodeType==1){if(x[c.tagName])var V=x[c.tagName];else if(c.tagName==="data"){c.childNodes.length>0&&(V=c.childNodes[0].nodeValue,x[c.tagName]=typeof V==="string"?V.trim():V);continue}else V=[],x[c.tagName]=V;c&&c.tagName==="TEXT"?c.childNodes.length===1&&c.childNodes[0].nodeType===3?V.push(c.childNodes[0].nodeValue):V.push(""):c&&V.push(gu7(B,c))}return x},m_o=function(B){var A=B.player.getVideoData();
if(A.GM){var x=B.player.C().J$.get(A.videoId);if(x){var w={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(c,V,Z){c=B.loadNumber;V=A.videoId;B.loaded&&B.loadNumber===c&&B.player.getVideoData().videoId===V&&(Z=g.EN(Z)&&Z.responseXML?Z.responseXML:null)&&M5j(B,Z)}};
g.hz()&&(w.onFinish=lZo(B,w.onFinish));w.postParams={ic_only:"1"};T4c(w,x);B.j=!0;g.TT(A.GM,w)}}},T4c=function(B,A){B.method="POST";
B.postParams=B.postParams||{};A.yd&&(B.postParams.ic_coll=A.yd);A.ez&&(B.postParams.ic_xml=A.ez);A.Fl&&(B.postParams.ic_track=A.Fl)},Lnj=function(B){var A=new g.J({X:"div"});
g.TE(A.element,!1);var x=new cjV(B.player,A.element,RT(B));g.T(x,A);A.QP(B.U.element);x.EO();return x},bjo=function(B,A){var x,w;
if(A=(x=A.getWatchNextResponse())==null?void 0:(w=x.cards)==null?void 0:w.cardCollectionRenderer)B.A$=!0,t5j(B,A),A.headerText&&B.QD&&(x=g.pQ(A.headerText),B.QD.setAttribute("title",x))},RT=function(B){if(!B.Z){var A=new kL7(B);
g.T(B,A);var x=new g.gH(B);g.T(B,x);B.Z=new jjV(A,x,B.player.C(),B.player.getVideoData(),B.logger,B.player,B.hA)}return B.Z},M5j=function(B,A){var x=!1,w=A.getElementsByTagName("annotations");
if(w&&!(w.length<1)&&(w=w[0].getAttribute("itct"))){var c=g.MS();if(c){var V=g.g_();V&&g.d8(g.cQ)(void 0,c,V,[g.aJ(w)])}}A=A.getElementsByTagName("annotation");for(w=0;w<A.length;w++){V=gu7(B,A[w]);c=null;try{if(V){var Z=V.id,R=/.+/;var Y=typeof Z==="string"&&R!=null&&Z!=null&&Z.match(R)?Z:"";var n=LX(V.type,ouc),r=LX(V.style,Jjc),d=m$8(V.data),q=d.length!==0?JSON.parse(d):{};var f=V.action;V=v8_;if(f==null)var h=null;else if(g.bg(f)){R=[];for(var P=g.W(f),N=P.next();!N.done;N=P.next()){var K=V(N.value);
K&&R.push(K)}h=R}else{var p=V(f);h=p?[p]:[]}c=Y&&n?new Xt0(Y,n,r,h,q):null}else c=null}catch(cp){}if(c)if(c.type==="branding"||c.type==="promotion"){V=B;R=c;var H=Ojo(V),O=null;switch(R.type){case "branding":if(V.player.C().Ek)break;V.U.element.appendChild(H);O=new Zp(H,RT(V),R);break;case "promotion":g.Ob(V.player,H,4),O=new kt0(H,RT(V),R)}O&&O.EO();if(V=O)g.T(B,V),B.Y[c.id]=V}else if(c.type==="card"||c.type==="drawer"){B.N||(B.N=Lnj(B),g.T(B,B.N));if(c.type==="card"){H=B.N;var M=(x=c)&&x.data&&
x.data.card_type;c=x.data;if(M)switch(V=c.tracking||{},V={kx:V.impression,click:V.click,close:V.close,Qf:V.teaser_impression,YX:V.teaser_click},R=c.tracking_params||{},O=null,M){case "collaborator":x={id:x.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,n1:V,NI:R.card?g.aJ(R.card):null,Ng:R.teaser?g.aJ(R.teaser):null,i5:R.icon?g.aJ(R.icon):
null,channelId:c.channel_id,customMessage:c.custom_message?c.custom_message:null,profileImageUrl:c.image_url,title:c.title,metaInfo:c.meta_info,url:b$({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};B5(H,x);break;case "playlist":x={id:x.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,n1:V,
NI:R.card?g.aJ(R.card):null,Ng:R.teaser?g.aJ(R.teaser):null,i5:R.icon?g.aJ(R.icon):null,wY:c.image_url,playlistVideoCount:c.playlist_video_count,customMessage:c.custom_message?c.custom_message:null,title:c.title,metaInfo:c.meta_info,url:b$({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};B5(H,x);break;case "productListing":c.signin_url&&(O=b$({target:"current",value:c.signin_url}));M=[];for(var t=c.offers||[],v=0;v<t.length;v++)M.push(new B40(g.xd(t[v].merchant),
g.xd(t[v].price)));x={id:x.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,n1:V,NI:R.card?g.aJ(R.card):null,Ng:R.teaser?g.aJ(R.teaser):null,i5:R.icon?g.aJ(R.icon):null,imageUrl:c.image_url,displayDomain:c.display_domain?c.display_domain:null,showLinkIcon:!!c.show_link_icon,XY:c.button_icon_url?c.button_icon_url:null,title:c.title,customMessage:c.custom_message?
c.custom_message:null,url:b$({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),U3F:O,ECk:c.signin_title?c.signin_title:void 0,ANS:c.signin_message?c.signin_message:void 0,offers:M,onClickCommand:null};B5(H,x);break;case "simple":x={id:x.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,n1:V,NI:R.card?g.aJ(R.card):
null,Ng:R.teaser?g.aJ(R.teaser):null,i5:R.icon?g.aJ(R.icon):null,imageUrl:c.image_url,displayDomain:c.display_domain?c.display_domain:null,showLinkIcon:!!c.show_link_icon,XY:c.button_icon_url?c.button_icon_url:null,title:c.title,customMessage:c.custom_message?c.custom_message:null,url:b$({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};B5(H,x);break;case "video":x={id:x.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,
startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,n1:V,NI:R.card?g.aJ(R.card):null,Ng:R.teaser?g.aJ(R.teaser):null,i5:R.icon?g.aJ(R.icon):null,wY:c.image_url,videoDuration:c.video_duration||null,customMessage:c.custom_message?c.custom_message:null,title:c.title,metaInfo:c.meta_info,isLiveNow:!!c.is_live_now,url:b$({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null},B5(H,x)}}else V5h(B.N,c);x=!0}}x&&
(CX(B.player),B.rC())},t5j=function(B,A){var x=!1;
B.N||(B.N=Lnj(B),g.T(B,B.N));for(var w=g.W(A.cards||[]),c=w.next();!c.done;c=w.next())c=c.value,c.cardRenderer&&(Zjh(B.N,c.cardRenderer),x=!0);if(x){var V;(V=B.player.getVideoData())!=null&&g.eu(V)||(x=B.N,w=A.headerText?g.pQ(A.headerText):"",g.rJ(x.wm,w),x.j&&x.j.setAttribute("title",w),x.context.videoData.eventId&&(x.eventId=x.context.videoData.eventId),x.fF=A.trackingParams?g.aJ(A.trackingParams):null,x.T=A.closeButton.infoCardIconRenderer.trackingParams?g.aJ(A.closeButton.infoCardIconRenderer.trackingParams):
null,x.i5=A.icon.infoCardIconRenderer.trackingParams?g.aJ(A.icon.infoCardIconRenderer.trackingParams):null,B.rC());CX(B.player)}},vuW=function(B,A,x,w,c){if(!B.player.C().Ek){var V=[];
A.navigationEndpoint&&g.m(A.navigationEndpoint,g.KK)&&g.m(A.navigationEndpoint,g.KK).browseId&&V.push(new bRr("openUrl","click",new LRc("/channel/"+g.m(A.navigationEndpoint,g.KK).browseId,"new",!0,!0)));var Z=A.watermark.thumbnails[0];w={channel_name:A.channelName,end_ms:A.endTimeMs,image_height:Z.height,image_type:1,image_url:Z.url,image_width:Z.width,is_mobile:!1,session_data:{annotation_id:x,ei:c,feature:"iv",itct:A.trackingParams,src_vid:w},start_ms:A.startTimeMs};if(A.subscribeButton&&g.m(A.subscribeButton,
g.CK)){w.channel_id=g.m(A.subscribeButton,g.CK).channelId;var R;A=g.m(A.subscribeButton,g.CK);Z=c=null;A.subscribed?(A.subscriberCountWithUnsubscribeText&&(c=g.pQ(A.subscriberCountWithUnsubscribeText)),A.subscriberCountText&&(Z=g.pQ(A.subscriberCountText))):(A.subscriberCountText&&(c=g.pQ(A.subscriberCountText)),A.subscriberCountWithSubscribeText&&(Z=g.pQ(A.subscriberCountWithSubscribeText)));var Y,n=((Y=g.m((R=A.signInEndpoint)==null?void 0:R.commandMetadata,g.Wy))==null?void 0:Y.url)||"";R={subscribeText:g.pQ(A.unsubscribedButtonText),
subscribeCount:c||"",unsubscribeText:g.pQ(A.subscribedButtonText),unsubscribeCount:Z||"",enabled:A.enabled||!1,classic:!1,subscribed:A.subscribed||!1,feature:"iv",signInUrl:n};w.standalone_subscribe_button_data=R}V=new Xt0(x,"branding","branding",V,w);R=Ojo(B);B.U.element.appendChild(R);V=new Zp(R,RT(B),V);V.EO();g.T(V,V);B.Y[x]=V}},lZo=function(B,A){return function(){var x=g.ya.apply(0,arguments);
B.aS()||B.Et.push(g.Vf.WX(function(){A.apply(null,g.U(x))}))}},Xdc=function(B){return B==="annotation-editor"||B==="live-dashboard"};
g.KE.prototype.s2=g.wr(40,function(B,A){var x=g.tu(this.AL());x&&x.s2(B,A)});
var Ew={},yU=null;g.B_(u$,g.Kx);g.S=u$.prototype;g.S.getDuration=function(){return this.duration};
g.S.play=function(B){if(B||this.N==0)this.progress=0,this.coords=this.U;else if(this.isPlaying())return!1;Hi(this);this.startTime=B=g.sj();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.D=this.startTime;this.progress||this.MH();this.j5("play");this.isPaused()&&this.j5("resume");this.N=1;var A=g.Xq(this);A in Ew||(Ew[A]=this);IFr();$$c(this,B);return!0};
g.S.stop=function(B){Hi(this);this.N=0;B&&(this.progress=1);WRV(this,this.progress);this.onStop();this.aV()};
g.S.pause=function(){this.isPlaying()&&(Hi(this),this.N=-1,this.j5("pause"))};
g.S.vR=function(){this.N==0||this.stop(!1);this.j5("destroy");u$.UA.vR.call(this)};
g.S.destroy=function(){this.dispose()};
g.S.Sp=function(){this.j5("animate")};
g.S.j5=function(B){this.dispatchEvent(new P3h(B,this))};
g.B_(P3h,g.og);g.B_(eC,u$);eC.prototype.S=function(){};
eC.prototype.Sp=function(){this.S();eC.UA.Sp.call(this)};
eC.prototype.aV=function(){this.S();eC.UA.aV.call(this)};
eC.prototype.MH=function(){this.S();eC.UA.MH.call(this)};
g.B_(U$0,eC);U$0.prototype.S=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.Q(kL7,g.l);g.S=kL7.prototype;g.S.listen=function(B,A,x,w){x=(0,g.ze)(x,w||this.U);B=g.gS(B,A,x);this.N.push(B);return B};
g.S.fb=function(B,A,x,w){x=(0,g.ze)(x,w||this.U);B=hQV(B,A,x);this.N.push(B);return B};
g.S.Qx=function(B){g.Mm(B);g.Dh(this.N,B)};
g.S.removeAll=function(){g.Mm(this.N);this.N.length=0};
g.S.vR=function(){this.removeAll();g.l.prototype.vR.call(this)};g.Q(ptc,g.Ey);g.S=ptc.prototype;g.S.load=function(){g.Ey.prototype.load.call(this);if(!FZ(this)){var B=g.xOC(this.player.getVideoData());B?(B=C3o(B,E84(this)),gx(this,B,!1)):yK7(this)}};
g.S.unload=function(){gx(this,null);this.D&&(this.D.abort(),this.D=null);g.Ey.prototype.unload.call(this)};
g.S.cX=function(B,A){return FZ(this)?B==="loadCustomEndscreenRenderer"?(B=C3o(A,"new"),gx(this,B),!0):null:null};
g.S.getOptions=function(){return FZ(this)?["loadCustomEndscreenRenderer"]:[]};
g.S.o2=function(){if(this.endscreen&&this.endscreen.elements){var B=this.player.getVideoContentRect();if(B&&B.width!==0&&B.height!==0){var A=this.player.getPlayerSize();if(A&&A.width!==0&&A.height!==0){var x=B.width/B.height;var w=0;for(var c=-1,V=0;V<z6r.length;V++){var Z=Math.abs(A.width-z6r[V]);if(c===-1||w>=Z)c=V,w=Z}w=ij7[c];this.S&&g.jA(this.S.element,"outline-width",Math.max(A.width,A.height)+"px");for(A=0;A<this.endscreen.elements.length;++A)if(V=this.endscreen.elements[A].id,c=this.U[V],
Z=this.Y[V],c&&Z){var R=Z.width*x/Z.aspectRatio,Y=Math.round(Z.width*B.width);V=Math.round(R*B.height);var n=B.left+Math.round(Z.left*B.width),r=B.top+Math.round(Z.top*B.height);g.Mz(c.element,Y,V);g.OJ(c.element,n,r);g.j9(c.element,Gtj);Y>256||V>256?g.Pl(c.element,"ytp-ce-large-round"):Y>96||V>96?g.Pl(c.element,"ytp-ce-medium-round"):g.Pl(c.element,"ytp-ce-small-round");g.j9(c.element,sj8);Y=Z.left+Z.width/2;Z=Z.top+R/2;g.Pl(c.element,Y<=.5&&Z<=.5?"ytp-ce-top-left-quad":Y>.5&&Z<=.5?"ytp-ce-top-right-quad":
Y<=.5&&Z>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.j9(c.element,ij7);g.Pl(c.element,w);(c=g.GQ(document,"div","ytp-ce-expanding-overlay-body",c.element)[0])&&g.jA(c,"height",V+"px")}}}}};
g.S.onCueRangeEnter=function(B){if(this.endscreen)if(B.getId()==="ytp-ce-in-endscreen")ms(this,this.endscreen.impressionUrls),(B=g.MS())&&this.endscreen.visualElement&&g.qp(B,this.endscreen.visualElement),this.N&&(g.Pl(this.N,"ytp-ce-element-show"),this.N.removeAttribute("aria-hidden"),this.player.fu()?g.Pl(this.N,"ytp-ce-hide-button-lower"):g.NY(this.N,"ytp-ce-hide-button-lower"));else{B=B.getId().substring(15);var A=this.U[B],x=this.Y[B];g.Pl(A.element,"ytp-ce-element-show");A.element.removeAttribute("aria-hidden");
A=this.player.getRootNode();g.Pl(A,"ytp-ce-shown");ms(this,x.impressionUrls);(A=g.MS())&&g.qp(A,x.visualElement);this.player.C().T&&this.player.m7("endscreenelementshown",B)}};
g.S.onCueRangeExit=function(B){if(B.getId()==="ytp-ce-in-endscreen")this.N&&(g.NY(this.N,"ytp-ce-element-show"),this.N.setAttribute("aria-hidden","true"));else{B=B.getId().substring(15);var A=this.U[B];g.NY(A.element,"ytp-ce-element-show");A.element.setAttribute("aria-hidden","true");A=this.player.getRootNode();g.NY(A,"ytp-ce-shown");this.player.C().T&&this.player.m7("endscreenelementhidden",B)}};
g.S.AWR=function(B){var A=this;B.target===window&&(new g.dN(function(){for(var x=g.W(Object.values(A.U)),w=x.next();!w.done;w=x.next())g.j9(w.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.S.s5=function(B){for(var A=g.W(Object.values(this.U)),x=A.next();!x.done;x=A.next())x=x.value,B?x.element.setAttribute("hidden",""):x.element.removeAttribute("hidden")};
g.S.k7v=function(B){this.N&&this.player.getRootNode().removeChild(this.N);B&&(g.Pl(B,"ytp-ce-hide-button-container"),this.N=B,g.Ob(this.player,this.N,4))};
var z6r=[346,426,470,506,570,640,853,1280,1920],ij7="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),sj8=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],Gtj=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var tNY={kdP:"current",U4k:"new"};var o8V={CLOSE:"close",ztk:"openUrl",SUBSCRIBE:"subscribe"},JKY={q1P:"click",CLOSE:"close",Ouv:"hidden",lUv:"rollOut",ZMP:"rollOver",DCR:"shown"};Xt0.prototype.eA=function(){var B=zQ8(this,function(A){return A.type==="openUrl"&&A.url!=null});
return B?B.url:null};
var Jjc={a$Z:"anchored",GY:"branding",CHANNEL:"channel",Y1P:"cta",FXv:"highlightText",JCR:"label",PLAYLIST:"playlist",POPUP:"popup",QnR:"speech",SUBSCRIBE:"subscribe",K9v:"title",VIDEO:"video",qov:"website"},ouc={GY:"branding",ZW7:"card",xDR:"drawer",epR:"highlight",HeP:"marker",F8P:"promotion",TEXT:"text",jkR:"widget"};g.Q(XZ,g.l);g.S=XZ.prototype;g.S.addCueRange=function(B,A,x,w,c){B=new g.q3(B,A,{id:x,namespace:"annotations_module"});w&&this.GM.set(B,w);c&&this.h$.set(B,c);this.context.J.sS([B],1)};
g.S.EO=function(){this.context.U.subscribe("resize",this.V_,this)};
g.S.zw=function(){return this.element};
g.S.DQ=function(B,A,x,w,c,V){if(this.Z9)return!1;V&&(V.stopPropagation(),V.preventDefault());this.navigate(B,x,w,c);return!1};
g.S.show=function(){};
g.S.hide=function(){};
g.S.destroy=function(){g.Ym(this.zw())};
g.S.V_=function(){};
g.S.navigate=function(B,A,x,w){var c=this,V=te(B);if(V){var Z=x_7(V,B.target),R=function(){B.N&&c.context.J.pauseVideo();var Y=c.context.videoData.l5||!1,n=g.$5(V||"");Y&&n&&(n.v||n.list)?c.context.J.HL(n.v,A,n.list,!1):g.AA(V||"",Z==="current"?"_top":void 0,A)};
Z==="new"&&(R(),R=null);Sy(this.context.logger,x,R,w);AjW(V)||(x=g.MS(),w=A.itct,x&&w&&g.QH(x,g.aJ(w)))}};
g.S.vR=function(){this.GM.clear();this.h$.clear();g.l.prototype.vR.call(this)};
g.S.createElement=function(B){B=new g.J(B);g.T(this,B);return B.element};g.Q(cjV,XZ);g.S=cjV.prototype;g.S.Z0=function(){this.Et&&B5(this,this.Et)};
g.S.isAvailable=function(){var B;if(B=!!this.cards.length)(B=this.J.getRootNode())?(B=g.lH(B),B=173<B.width&&173<B.height):B=!1;return B};
g.S.V_=function(){var B=this.isAvailable();g.TE(this.zw(),B);g.kw(this.context.J.getRootNode(),g.Ja.IV_DRAWER_ENABLED,B);CX(this.J)};
g.S.destroy=function(){this.J.s2(!1);try{this.J.getRootNode().removeChild(this.D)}catch(B){}g.Wo(this.A$);g.bD(this.KF);this.LF&&this.LF.dispose();this.K&&this.K.dispose();XZ.prototype.destroy.call(this)};
g.S.FH=function(){var B=this;this.context.N.listen(g.sC("iv-drawer-close-button",this.D),"click",this.eV,this);this.context.N.listen(this.U,"touchend",function(){B.XR.start()});
this.context.N.listen(this.U,"scroll",this.qn,this);this.context.U.subscribe("onHideControls",function(){B.J$=!0});
this.context.U.subscribe("onShowControls",function(){B.J$=!1});
this.context.U.subscribe("onVideoAreaChange",function(){B.J$=g.Wl(B.J.getRootNode(),"ytp-autohide")});
this.A$.push(g.$V("iv-button-shown",this.RZR,this));this.A$.push(g.$V("iv-button-hidden",this.VPP,this));rjY(this)};
g.S.findLastIndex=function(B){if(this.cards.length===0)return 0;var A=g.iV(this.cards,function(x){return B.x_.startMs>x.x_.startMs||B.x_.startMs===x.x_.startMs&&B.x_.timestamp>=x.x_.timestamp?!0:!1});
return A===-1?0:A+1};
g.S.eV=function(){if(this.S){Sy(this.context.logger,c5(this).n1.close);var B=g.MS();B&&this.T&&g.QH(B,this.T);Dz(this)}};
g.S.qn=function(){g.kw(this.D,"iv-drawer-scrolled",this.U.scrollTop>0)};
g.S.RZR=function(){var B=g.MS(),A=c5(this);A=A?A.i5:this.i5;B&&A&&g.fQ(B,[A])};
g.S.VPP=function(){var B=g.MS(),A=c5(this);A=A?A.i5:this.i5;B&&A&&g.h1(B,[A])};
g.S.zr=function(){var B=c5(this);Sy(this.context.logger,B.n1.Qf);var A=g.MS();if(A&&B)if(this.J.B("web_infocards_teaser_show_logging_fix")){var x=[];B.Ng&&x.push(B.Ng);B.i5&&x.push(B.i5);x.length>0&&g.fQ(A,x)}else g.fQ(A,[B.Ng,B.i5])};
g.S.l9Z=function(){var B=g.MS(),A=c5(this);B&&A&&g.h1(B,[A.Ng])};
g.S.q9=function(B){var A=c5(this),x=g.MS();this.N?B?(B=this.context.logger,Sy(B,A.n1.YX),B.J.sendVideoStatsEngageEvent(4,void 0),x&&A.Ng&&g.QH(x,A.Ng)):(B=this.context.logger,Sy(B,A.n1.YX),B.J.sendVideoStatsEngageEvent(4,void 0),x&&A.i5&&g.QH(x,A.i5)):(B=this.context.logger,Sy(B,A.n1.YX),B.J.sendVideoStatsEngageEvent(4,void 0),x&&this.i5&&g.QH(x,this.i5))};g.Q(Vy,XZ);Vy.prototype.EO=function(){XZ.prototype.EO.call(this);$_W(this)};
Vy.prototype.show=function(){XZ.prototype.show.call(this);var B=g.MS(),A=this.annotation.data;B&&A&&(A=A.session_data)&&g.fQ(B,[g.aJ(A.itct)])};
Vy.prototype.hide=function(){XZ.prototype.hide.call(this);var B=g.MS(),A=this.annotation.data;B&&A&&(A=A.session_data)&&g.h1(B,[g.aJ(A.itct)])};g.Q(Zp,Vy);
Zp.prototype.show=function(){if(!this.isActive){Vy.prototype.show.call(this);if(!this.T){g.Pl(this.zw(),"iv-branding");var B=this.annotation.data;this.U=this.createElement({X:"img",bk:["branding-img","iv-click-target"],V:{"aria-label":"\u0627\u0644\u0639\u0644\u0627\u0645\u0629 \u0627\u0644\u0645\u0627\u0626\u064a\u0629 \u0644\u0644\u0642\u0646\u0627\u0629",src:B.image_url,width:B.image_width,height:B.image_height}});g.TE(this.U,!1);var A=this.createElement({X:"button",bk:["branding-img-container","ytp-button"]});
A.appendChild(this.U);this.zw().appendChild(A);var x=this.annotation.eA();x&&zJ(this,A,x,this.annotation.id,B.session_data);this.context.J.B("disable_branding_context")||N4h(this,B);this.T=!0}g.TE(this.zw(),!0);this.isActive=!0;if(this.U){try{Wnr(this,this.U)}catch(w){}g.Pl(this.context.J.getRootNode(),"ytp-branding-shown");this.context.J.getRootNode().style.setProperty("--branding-image-width",this.U.getAttribute("width")+"px")}}};
Zp.prototype.hide=function(){this.isActive&&(Vy.prototype.hide.call(this),g.TE(this.zw(),!1),this.isActive=!1,g.NY(this.context.J.getRootNode(),"ytp-branding-shown"))};
Zp.prototype.destroy=function(){this.N&&(this.N.dispose(),this.N=null);g.NY(this.context.J.getRootNode(),"ytp-branding-shown");Vy.prototype.destroy.call(this)};g.Q(kt0,Vy);g.S=kt0.prototype;g.S.show=function(){this.isActive||(Vy.prototype.show.call(this),this.Z||(COY(this),this.Z=!0),g.TE(this.zw(),!0),g.eJ(function(){g.NY(this.zw(),"iv-promo-inactive")},100,this),this.zw().removeAttribute("aria-hidden"),this.isActive=!0,Hjo(this),pdr(this),Eur(this,this.Y))};
g.S.hide=function(){this.isActive&&(g.Pl(this.zw(),"iv-promo-inactive"),this.isActive=!1,this.zw().setAttribute("aria-hidden","true"))};
g.S.DQ=function(B,A,x,w,c,V){return this.isCollapsed?!1:Vy.prototype.DQ.call(this,B,A,x,w,c,V)};
g.S.mR=function(B){this.j=!0;Knr(this,500,B)};
g.S.iH=function(){this.j=!1;yjY(this)};
g.S.MB=function(B){B.stopPropagation();this.hide()};
g.S.x9=function(B){B.stopPropagation();Hjo(this);this.isCollapsed=!0;g.Pl(this.zw(),"iv-promo-collapsed-no-delay");this.K.start()};
g.S.destroy=function(){this.K.dispose();Vy.prototype.destroy.call(this)};g.Q(e6j,g.Ey);g.S=e6j.prototype;g.S.cX=function(B,A){if(!Xdc(this.player.C().playerStyle))return null;switch(B){case "loadCustomAnnotationsXml":return(B=g.zX(A))&&M5j(this,B),!0;case "removeCustomAnnotationById":return A&&this.N&&(R6V(this.N,A),CX(this.player)),!0}return null};
g.S.getOptions=function(){return Xdc(this.player.C().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.S.Up=function(){var B=this.player.C(),A=this.player.getVideoData(),x=B.annotationsLoadPolicy||A.annotationsLoadPolicy;return g.B8(A)||this.player.isMutedByEmbedsMutedAutoplay()?!1:x===1&&!A.P5||B.J$.get(A.videoId)||g.MI(A)||g.TK(A)?!0:!1};
g.S.rC=function(){if(this.S){var B=this.player.lk().getVideoContentRect(!0);g.Mz(this.S.element,B.width,B.height);g.OJ(this.S.element,B.left,B.top)}if(this.N){var A=this.player.GV();B=this.N;A=A.width;g.kw(B.D,"iv-drawer-small",A<=426);g.kw(B.D,"iv-drawer-big",A>=1280)}};
g.S.pj=function(B){aZV(this,B.state);g.X(B.state,2)&&(this.fu()&&this.l8()&&this.player.getPresentingPlayerType()!==2&&this.No(!1),this.s2(!1))};
g.S.load=function(){function B(Z){var R=A.loadNumber;A.K=null;A.loaded&&A.loadNumber===R&&A.player.getVideoData().videoId===w&&(Z=g.EN(Z)&&Z.responseXML?Z.responseXML:null)&&(M5j(A,Z),g.Pl(A.player.getRootNode(),"iv-module-loaded"))}
var A=this;g.Ey.prototype.load.call(this);aZV(this,this.player.getPlayerStateObject());this.loadNumber++;var x=this.player.getVideoData(),w=x.videoId;g.hz()&&(B=lZo(this,B));var c={format:"XML",onFinish:B,onError:function(){A.K=null},
urlParams:{}};x.isPharma&&(c.urlParams.pharma="1");c.method="POST";c.withCredentials=!0;var V=this.player.C().J$.get(w);V&&T4c(c,V);V=V&&(V.ez||V.yd);if(!x.RW||V)x.GM?Fn_(this,x.GM,c):(this.T=function(){if(!A.j)A.onVideoDataChange(c);var Z=A.player.getVideoData();(Z==null?0:g.eu(Z))&&!A.A$&&bjo(A,Z)},this.player.addEventListener("videodatachange",this.T));
g.Ob(this.player,this.S.element,4);this.rC();(V=g.MI(x))&&t5j(this,V);(V=g.TK(x))&&V.featuredChannel&&vuW(this,V.featuredChannel,V.annotationId||"branding",x.videoId||null,x.eventId||null);this.QD=g.sC("ytp-cards-button",this.player.getRootNode());g.eu(x)&&bjo(this,x)};
g.S.onVideoDataChange=function(B){var A=this.player.getVideoData();A.GM&&Fn_(this,A.GM,B)};
g.S.unload=function(){this.player.Hh("annotations_module");for(var B=g.W(Object.keys(this.Y)),A=B.next();!A.done;A=B.next())this.Y[A.value].destroy();this.Z=null;this.N&&(this.N.destroy(),this.N=null,CX(this.player));this.j=!1;this.K&&(this.K.abort(),this.K=null);this.A$=!1;this.Y={};this.U.hide();g.Ey.prototype.unload.call(this);this.S.detach();this.T&&(this.player.removeEventListener("videodatachange",this.T),this.T=null)};
g.S.T0=function(B){B===this.player.getVideoData().videoId&&(this.loaded?m_o(this):this.load())};
g.S.fu=function(){var B;return((B=this.N)==null?void 0:B.isAvailable())||this.A$};
g.S.l8=function(){return!!this.N&&this.N.S};
g.S.No=function(B,A,x){A=A===void 0?!1:A;this.fu();this.N&&(B?x?GJ(this.N,x,A):GJ(this.N,"YOUTUBE_DRAWER_AUTO_OPEN",A):Dz(this.N))};
g.S.s2=function(B,A){this.player.publish(B?"cardsteasershow":"cardsteaserhide",A)};
g.S.vR=function(){this.player.C().J$.unsubscribe("vast_info_card_add",this.T0,this);g.NY(this.player.getRootNode(),g.Ja.IV_DRAWER_OPEN);for(var B=this.Et,A=g.Vf,x=0,w=B.length;x<w;x++)A.nu(B[x]);this.Et.length=0;g.Ey.prototype.vR.call(this)};
g.S.createElement=function(B){B=new g.J(B);g.T(this,B);return B.element};g.pC("annotations_module",e6j);g.pC("creatorendscreen",ptc);})(_yt_player);
